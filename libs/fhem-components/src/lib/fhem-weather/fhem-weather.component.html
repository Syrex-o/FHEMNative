<fhem-native-component
	[UID]="UID" 
	[position]="position"
	[minDimensions]="{width: 100, height: 100}"
	[fhemDeviceConfig]="{ device, deviceAvailable: true }"
	(initDevice)="setFhemDevice($event)"
	(updateDevice)="setFhemDevice($event)"
	(resized)="updateCharts()">
	<div class="fhem-native-weather" *ngIf="forecast$ | async as forecast">
		<div class="charts-container">
			<swiper #Swiper [config]="swiperConfig" class="data-swiper" (slideChange)="updateSelectedForecastDay($event)">
				<ng-container *ngFor="let forecastDay of forecast; let i = index">
					<ng-template swiperSlide let-data>
						<div class="data-page">
							<!-- temp data -->
							<ng-container *ngIf="forecastDay.hourData.temp[0].series.length; else NO_DATA">
								<ngx-charts-area-chart class="weather-chart"
									*ngIf="(displayCharts$ | async)"
									[scheme]="tempColorScheme"
									[gradient]="true"
									[curve]="curve"
									[xAxis]="true"
									[yAxis]="true"
									[showGridLines]="false"
									[yAxisTickFormatting]="tempyAxisTickFormatting"
									[xAxisTickFormatting]="formatAreaXAxis"
									[results]="forecastDay.hourData.temp">
								</ngx-charts-area-chart>
							</ng-container>
						</div>
					</ng-template>
				</ng-container>
			</swiper>
		</div>
		<div class="days-container">
			<ng-container *ngFor="let forecastDay of forecast; let i = index">
				<div class="day-container ion-activatable" [class.active]="i === (selectedForecastDay$ | async)" (click)="switchSelectedForecastDay(i)">
					<div class="date-container">
						<fhem-native-text-line [text]="forecastDay.date"/>
					</div>
					<div class="icon-container">
						<img [src]="forecastDay.weatherIcon">
					</div>
					<div class="temp-container">
						<fhem-native-text-line [bold]="true" [text]="forecastDay.tempMax + '&deg;'"/>
						<fhem-native-text-line [text]="forecastDay.tempMin + '&deg;'"/>
					</div>
					<ion-ripple-effect/>
				</div>
			</ng-container>
		</div>
	</div>

	<ng-template #NO_DATA>
		<div class="no-data-container">
			<fhem-native-text-block
				[label]="('COMPONENTS.Weather.ERRORS.NO_DATA.name' | translate)"
				[info]="('COMPONENTS.Weather.ERRORS.NO_DATA.info' | translate)">
			</fhem-native-text-block>
		</div>
	</ng-template>
</fhem-native-component>